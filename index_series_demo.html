<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Vape Kungen â€“ Serie-kort + smakvÃ¤ljare (demo)</title>
<style>
  :root{--bg:#0b1220;--card:#0f172a;--text:#e5e7eb;--muted:#a1a1aa;--accent:#10b981;--line:#1f2937;--max:1200px}
  *{box-sizing:border-box}
  html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial}
  a{color:var(--accent);text-decoration:none}
  header,section,footer{padding:56px 20px}
  .wrap{max-width:var(--max);margin:0 auto}
  /* NAV */
  nav{position:sticky;top:0;background:#0b1220e6;border-bottom:1px solid var(--line);backdrop-filter:blur(8px);z-index:30}
  nav .bar{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:10px 20px;max-width:var(--max);margin:0 auto}
  .brand{display:flex;gap:10px;align-items:center}
  .brand svg{width:32px;height:32px}
  .menu{display:flex;gap:14px;align-items:center;flex-wrap:wrap}
  .cta{display:inline-block;padding:10px 14px;border-radius:12px;background:var(--accent);color:#052016;font-weight:700;border:none;cursor:pointer}
  .cta.secondary{background:transparent;color:var(--text);border:1px solid var(--line)}
  /* GRID */
  .grid{display:grid;gap:20px}
  .three{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
  .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:16px}
  .thumb{border-radius:14px;overflow:hidden;border:1px solid var(--line)}
  .thumb img{display:block;width:100%;height:auto}
  h1,h2,h3{margin:0 0 10px 0;line-height:1.25}
  h1{font-size:clamp(28px,6vw,44px)} h2{font-size:clamp(22px,3.4vw,30px)} h3{font-size:18px}
  p{color:var(--muted);margin:0 0 10px 0}
  /* CART */
  .cart-btn{position:relative}
  .cart-count{position:absolute;top:-6px;right:-6px;background:#34d399;color:#051910;border-radius:999px;padding:2px 6px;font-size:12px}
  .cart-panel{position:fixed;right:0;top:0;height:100%;width:360px;background:#0f172a;border-left:1px solid var(--line);padding:16px;display:none;z-index:40}
  .cart-item{display:grid;grid-template-columns:1fr auto auto;gap:8px;align-items:center;border-bottom:1px solid var(--line);padding:8px 0}
  .cart-item button{border:1px solid var(--line);background:#0b1220;color:#e5e7eb;border-radius:8px;padding:4px 8px;cursor:pointer}
  .cart-total{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
  /* MODAL */
  .modal{position:fixed;inset:0;background:#000a;display:none;align-items:center;justify-content:center;padding:20px;z-index:70}
  .modal .box{max-width:520px;background:#0f172a;padding:24px;border-radius:16px;border:1px solid var(--line)}
  .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
</style>
</head>
<body>
  <!-- NAV -->
  <nav aria-label="Huvudmeny">
    <div class="bar">
      <div class="brand">
        <svg viewBox="0 0 64 64" aria-label="Vape Kungen">
          <defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#10b981"/><stop offset="1" stop-color="#34d399"/></linearGradient></defs>
          <rect x="2" y="2" width="60" height="60" rx="14" fill="url(#g)"/>
          <g transform="translate(10,10)"><path d="M6 14 h10 a9 9 0 0 1 0 18 H6z" fill="#0b1220"/><path d="M26 14 h8 a7 7 0 0 1 0 14 h-8 v10 h-6 v-24 h6 z" fill="#0b1220"/></g>
        </svg>
        <strong>Vape Kungen</strong>
      </div>
      <div class="menu">
        <a href="#serier">Serier</a>
        <button class="cta secondary cart-btn" onclick="toggleCart()">ðŸ›’ Kundvagn <span id="cartCount" class="cart-count">0</span></button>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="wrap">
    <h1>Produktserier med smakvÃ¤ljare</h1>
    <p>Klicka pÃ¥ en serie (ikon) fÃ¶r att vÃ¤lja smak/variant. LÃ¤gg sedan i kundvagnen.</p>
  </header>

  <!-- SERIES GRID -->
  <section id="serier" class="wrap">
    <div class="grid three">
      <div class="card">
        <div class="thumb"><img src="data:image/svg+xml;base64,CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNjQwIDM2MCc+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz4KICAgICAgPHN0b3Agb2Zmc2V0PScwJyBzdG9wLWNvbG9yPScjZTExZDQ4Jy8+PHN0b3Agb2Zmc2V0PScxJyBzdG9wLWNvbG9yPScjZmI3MTg1Jy8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyByeD0nMjgnIGZpbGw9JyMwZjE3MmEnLz4KICA8cmVjdCB4PScyNCcgeT0nMjQnIHdpZHRoPSc1OTInIGhlaWdodD0nMzEyJyByeD0nMjInIGZpbGw9J3VybCgjZyknIG9wYWNpdHk9JzAuMjUnLz4KICA8ZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2MCw2MCknPgogICAgPHJlY3QgeD0nMCcgeT0nMTAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMjAnIHJ4PScxOCcgZmlsbD0nI2UxMWQ0OCcgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PSc5MCcgeT0nMCcgd2lkdGg9JzYwJyBoZWlnaHQ9JzI0MCcgcng9JzE4JyBmaWxsPScjZmI3MTg1JyBvcGFjaXR5PScwLjknLz4KICAgIDxyZWN0IHg9JzE4MCcgeT0nMzAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMTAnIHJ4PScxOCcgZmlsbD0nI2UxMWQ0OCcgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PScyNzAnIHk9JzIwJyB3aWR0aD0nNjAnIGhlaWdodD0nMjIwJyByeD0nMTgnIGZpbGw9JyNmYjcxODUnIG9wYWNpdHk9JzAuOScvPgogIDwvZz4KICA8dGV4dCB4PSc1MCUnIHk9JzMwMCcgZm9udC1mYW1pbHk9J1NlZ29lIFVJLCBSb2JvdG8sIEFyaWFsJyBmb250LXNpemU9JzQwJyBmaWxsPScjZTVlN2ViJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJz5GcnVuayBCYXIgODAwPC90ZXh0Pgo8L3N2Zz4K" alt="Frunk Bar 800 ikon"></div>
        <h3>Frunk Bar 800</h3>
        <p>EngÃ¥ngsvape â€“ 800 puffar â€¢ 89 kr</p>
        <button class="cta" onclick="openSeries('frunk')">VÃ¤lj smak</button>
      </div>
      <div class="card">
        <div class="thumb"><img src="data:image/svg+xml;base64,CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNjQwIDM2MCc+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz4KICAgICAgPHN0b3Agb2Zmc2V0PScwJyBzdG9wLWNvbG9yPScjMjU2M2ViJy8+PHN0b3Agb2Zmc2V0PScxJyBzdG9wLWNvbG9yPScjNjBhNWZhJy8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyByeD0nMjgnIGZpbGw9JyMwZjE3MmEnLz4KICA8cmVjdCB4PScyNCcgeT0nMjQnIHdpZHRoPSc1OTInIGhlaWdodD0nMzEyJyByeD0nMjInIGZpbGw9J3VybCgjZyknIG9wYWNpdHk9JzAuMjUnLz4KICA8ZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2MCw2MCknPgogICAgPHJlY3QgeD0nMCcgeT0nMTAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMjAnIHJ4PScxOCcgZmlsbD0nIzI1NjNlYicgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PSc5MCcgeT0nMCcgd2lkdGg9JzYwJyBoZWlnaHQ9JzI0MCcgcng9JzE4JyBmaWxsPScjNjBhNWZhJyBvcGFjaXR5PScwLjknLz4KICAgIDxyZWN0IHg9JzE4MCcgeT0nMzAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMTAnIHJ4PScxOCcgZmlsbD0nIzI1NjNlYicgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PScyNzAnIHk9JzIwJyB3aWR0aD0nNjAnIGhlaWdodD0nMjIwJyByeD0nMTgnIGZpbGw9JyM2MGE1ZmEnIG9wYWNpdHk9JzAuOScvPgogIDwvZz4KICA8dGV4dCB4PSc1MCUnIHk9JzMwMCcgZm9udC1mYW1pbHk9J1NlZ29lIFVJLCBSb2JvdG8sIEFyaWFsJyBmb250LXNpemU9JzQwJyBmaWxsPScjZTVlN2ViJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJz5Qb2RzeXN0ZW08L3RleHQ+Cjwvc3ZnPgo=" alt="Podsystem ikon"></div>
        <h3>Podsystem</h3>
        <p>Startkit â€¢ frÃ¥n 349 kr</p>
        <button class="cta" onclick="openSeries('pods')">VÃ¤lj modell</button>
      </div>
      <div class="card">
        <div class="thumb"><img src="data:image/svg+xml;base64,CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNjQwIDM2MCc+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz4KICAgICAgPHN0b3Agb2Zmc2V0PScwJyBzdG9wLWNvbG9yPScjZjU5ZTBiJy8+PHN0b3Agb2Zmc2V0PScxJyBzdG9wLWNvbG9yPScjZmJiZjI0Jy8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyByeD0nMjgnIGZpbGw9JyMwZjE3MmEnLz4KICA8cmVjdCB4PScyNCcgeT0nMjQnIHdpZHRoPSc1OTInIGhlaWdodD0nMzEyJyByeD0nMjInIGZpbGw9J3VybCgjZyknIG9wYWNpdHk9JzAuMjUnLz4KICA8ZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2MCw2MCknPgogICAgPHJlY3QgeD0nMCcgeT0nMTAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMjAnIHJ4PScxOCcgZmlsbD0nI2Y1OWUwYicgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PSc5MCcgeT0nMCcgd2lkdGg9JzYwJyBoZWlnaHQ9JzI0MCcgcng9JzE4JyBmaWxsPScjZmJiZjI0JyBvcGFjaXR5PScwLjknLz4KICAgIDxyZWN0IHg9JzE4MCcgeT0nMzAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMTAnIHJ4PScxOCcgZmlsbD0nI2Y1OWUwYicgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PScyNzAnIHk9JzIwJyB3aWR0aD0nNjAnIGhlaWdodD0nMjIwJyByeD0nMTgnIGZpbGw9JyNmYmJmMjQnIG9wYWNpdHk9JzAuOScvPgogIDwvZz4KICA8dGV4dCB4PSc1MCUnIHk9JzMwMCcgZm9udC1mYW1pbHk9J1NlZ29lIFVJLCBSb2JvdG8sIEFyaWFsJyBmb250LXNpemU9JzQwJyBmaWxsPScjZTVlN2ViJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJz5F4oCRanVpY2UgMTAgbWw8L3RleHQ+Cjwvc3ZnPgo=" alt="Eâ€‘juice ikon"></div>
        <h3>Eâ€‘juice 10 ml</h3>
        <p>Nikotinsalt â€¢ 59 kr</p>
        <button class="cta" onclick="openSeries('juice')">VÃ¤lj smak</button>
      </div>
      <div class="card">
        <div class="thumb"><img src="data:image/svg+xml;base64,CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNjQwIDM2MCc+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz4KICAgICAgPHN0b3Agb2Zmc2V0PScwJyBzdG9wLWNvbG9yPScjMTBiOTgxJy8+PHN0b3Agb2Zmc2V0PScxJyBzdG9wLWNvbG9yPScjMzRkMzk5Jy8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyByeD0nMjgnIGZpbGw9JyMwZjE3MmEnLz4KICA8cmVjdCB4PScyNCcgeT0nMjQnIHdpZHRoPSc1OTInIGhlaWdodD0nMzEyJyByeD0nMjInIGZpbGw9J3VybCgjZyknIG9wYWNpdHk9JzAuMjUnLz4KICA8ZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2MCw2MCknPgogICAgPHJlY3QgeD0nMCcgeT0nMTAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMjAnIHJ4PScxOCcgZmlsbD0nIzEwYjk4MScgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PSc5MCcgeT0nMCcgd2lkdGg9JzYwJyBoZWlnaHQ9JzI0MCcgcng9JzE4JyBmaWxsPScjMzRkMzk5JyBvcGFjaXR5PScwLjknLz4KICAgIDxyZWN0IHg9JzE4MCcgeT0nMzAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMTAnIHJ4PScxOCcgZmlsbD0nIzEwYjk4MScgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PScyNzAnIHk9JzIwJyB3aWR0aD0nNjAnIGhlaWdodD0nMjIwJyByeD0nMTgnIGZpbGw9JyMzNGQzOTknIG9wYWNpdHk9JzAuOScvPgogIDwvZz4KICA8dGV4dCB4PSc1MCUnIHk9JzMwMCcgZm9udC1mYW1pbHk9J1NlZ29lIFVJLCBSb2JvdG8sIEFyaWFsJyBmb250LXNpemU9JzQwJyBmaWxsPScjZTVlN2ViJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJz5UaWxsYmVow7ZyPC90ZXh0Pgo8L3N2Zz4K" alt="TillbehÃ¶r ikon"></div>
        <h3>TillbehÃ¶r</h3>
        <p>Laddare, coils, pods</p>
        <button class="cta" onclick="openSeries('acc')">VÃ¤lj produkt</button>
      </div>
    </div>
  </section>

  <!-- CART PANEL -->
  <div id="cartPanel" class="cart-panel" role="dialog" aria-label="Varukorg">
    <h3>Kundvagn</h3>
    <div id="cartItems"></div>
    <div class="cart-total">
      <strong>Totalt</strong>
      <strong id="cartTotal">0 kr</strong>
    </div>
    <div class="row" style="margin-top:12px">
      <button class="cta secondary" onclick="clearCart()">TÃ¶m kundvagn</button>
      <button class="cta" onclick="checkout()">Till kassan</button>
      <button class="cta secondary" onclick="toggleCart()">StÃ¤ng</button>
    </div>
  </div>

  <!-- SERIES MODAL -->
  <div id="seriesModal" class="modal" role="dialog" aria-modal="true">
    <div class="box">
      <h2 id="seriesTitle">Serie</h2>
      <div class="row" style="margin:10px 0">
        <img id="seriesImg" src="" alt="" style="width:160px;height:auto;border-radius:12px;border:1px solid var(--line)">
        <div>
          <label for="variantSel">VÃ¤lj variant</label><br>
          <select id="variantSel" style="min-width:240px;padding:8px;border-radius:8px;border:1px solid var(--line)"></select>
          <p id="seriesPrice" style="margin-top:8px;font-weight:800">Pris: â€”</p>
        </div>
      </div>
      <div class="row" style="margin-top:8px">
        <button class="cta" onclick="addSelected()">LÃ¤gg i kundvagn</button>
        <button class="cta secondary" onclick="closeSeries()">StÃ¤ng</button>
      </div>
    </div>
  </div>

  <footer class="wrap" style="border-top:1px solid var(--line)">
    <p>Â© <span id="year"></span> Vape Kungen</p>
  </footer>

<script>
// ====== Data ======
const DATA = {
  frunk: {
    title: "Frunk Bar 800",
    price: 89,
    img: "data:image/svg+xml;base64,CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNjQwIDM2MCc+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz4KICAgICAgPHN0b3Agb2Zmc2V0PScwJyBzdG9wLWNvbG9yPScjZTExZDQ4Jy8+PHN0b3Agb2Zmc2V0PScxJyBzdG9wLWNvbG9yPScjZmI3MTg1Jy8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyByeD0nMjgnIGZpbGw9JyMwZjE3MmEnLz4KICA8cmVjdCB4PScyNCcgeT0nMjQnIHdpZHRoPSc1OTInIGhlaWdodD0nMzEyJyByeD0nMjInIGZpbGw9J3VybCgjZyknIG9wYWNpdHk9JzAuMjUnLz4KICA8ZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2MCw2MCknPgogICAgPHJlY3QgeD0nMCcgeT0nMTAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMjAnIHJ4PScxOCcgZmlsbD0nI2UxMWQ0OCcgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PSc5MCcgeT0nMCcgd2lkdGg9JzYwJyBoZWlnaHQ9JzI0MCcgcng9JzE4JyBmaWxsPScjZmI3MTg1JyBvcGFjaXR5PScwLjknLz4KICAgIDxyZWN0IHg9JzE4MCcgeT0nMzAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMTAnIHJ4PScxOCcgZmlsbD0nI2UxMWQ0OCcgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PScyNzAnIHk9JzIwJyB3aWR0aD0nNjAnIGhlaWdodD0nMjIwJyByeD0nMTgnIGZpbGw9JyNmYjcxODUnIG9wYWNpdHk9JzAuOScvPgogIDwvZz4KICA8dGV4dCB4PSc1MCUnIHk9JzMwMCcgZm9udC1mYW1pbHk9J1NlZ29lIFVJLCBSb2JvdG8sIEFyaWFsJyBmb250LXNpemU9JzQwJyBmaWxsPScjZTVlN2ViJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJz5GcnVuayBCYXIgODAwPC90ZXh0Pgo8L3N2Zz4K",
    variants: [
      "Apple Grapple","Banana Freeze","Banana Man","Berry Grooves","Berry Mixer",
      "Blackcurrant Apocalypse","Blue Razzle","Candied Apple","Club Cola","Cookie Monster",
      "Cool Pineapple","Crushed Candy","Double Bubble","Fresh Mango","Frozen Grape",
      "Frunking Berg","Grapefruit with Passion","Iced Mango","Lemon Zing","Mint Mania",
      "Orange Breezer","Peach on Ice","Pineapple Express","Raging Bull","Raspberry Shades",
      "Strawberry Bubbling","Strawberry Nana","Tropical Bonanza","Twisted Apple","Watermelon Splash"
    ]
  },
  pods: {
    title: "Podsystem",
    price: 399,
    img: "data:image/svg+xml;base64,CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNjQwIDM2MCc+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz4KICAgICAgPHN0b3Agb2Zmc2V0PScwJyBzdG9wLWNvbG9yPScjMjU2M2ViJy8+PHN0b3Agb2Zmc2V0PScxJyBzdG9wLWNvbG9yPScjNjBhNWZhJy8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyByeD0nMjgnIGZpbGw9JyMwZjE3MmEnLz4KICA8cmVjdCB4PScyNCcgeT0nMjQnIHdpZHRoPSc1OTInIGhlaWdodD0nMzEyJyByeD0nMjInIGZpbGw9J3VybCgjZyknIG9wYWNpdHk9JzAuMjUnLz4KICA8ZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2MCw2MCknPgogICAgPHJlY3QgeD0nMCcgeT0nMTAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMjAnIHJ4PScxOCcgZmlsbD0nIzI1NjNlYicgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PSc5MCcgeT0nMCcgd2lkdGg9JzYwJyBoZWlnaHQ9JzI0MCcgcng9JzE4JyBmaWxsPScjNjBhNWZhJyBvcGFjaXR5PScwLjknLz4KICAgIDxyZWN0IHg9JzE4MCcgeT0nMzAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMTAnIHJ4PScxOCcgZmlsbD0nIzI1NjNlYicgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PScyNzAnIHk9JzIwJyB3aWR0aD0nNjAnIGhlaWdodD0nMjIwJyByeD0nMTgnIGZpbGw9JyM2MGE1ZmEnIG9wYWNpdHk9JzAuOScvPgogIDwvZz4KICA8dGV4dCB4PSc1MCUnIHk9JzMwMCcgZm9udC1mYW1pbHk9J1NlZ29lIFVJLCBSb2JvdG8sIEFyaWFsJyBmb250LXNpemU9JzQwJyBmaWxsPScjZTVlN2ViJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJz5Qb2RzeXN0ZW08L3RleHQ+Cjwvc3ZnPgo=",
    variants: ["Lost Mary Tappo Air","Vozol Vista","Elf Bar Podsystem"]
  },
  juice: {
    title: "Eâ€‘juice 10 ml",
    price: 59,
    img: "data:image/svg+xml;base64,CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNjQwIDM2MCc+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz4KICAgICAgPHN0b3Agb2Zmc2V0PScwJyBzdG9wLWNvbG9yPScjZjU5ZTBiJy8+PHN0b3Agb2Zmc2V0PScxJyBzdG9wLWNvbG9yPScjZmJiZjI0Jy8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyByeD0nMjgnIGZpbGw9JyMwZjE3MmEnLz4KICA8cmVjdCB4PScyNCcgeT0nMjQnIHdpZHRoPSc1OTInIGhlaWdodD0nMzEyJyByeD0nMjInIGZpbGw9J3VybCgjZyknIG9wYWNpdHk9JzAuMjUnLz4KICA8ZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2MCw2MCknPgogICAgPHJlY3QgeD0nMCcgeT0nMTAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMjAnIHJ4PScxOCcgZmlsbD0nI2Y1OWUwYicgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PSc5MCcgeT0nMCcgd2lkdGg9JzYwJyBoZWlnaHQ9JzI0MCcgcng9JzE4JyBmaWxsPScjZmJiZjI0JyBvcGFjaXR5PScwLjknLz4KICAgIDxyZWN0IHg9JzE4MCcgeT0nMzAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMTAnIHJ4PScxOCcgZmlsbD0nI2Y1OWUwYicgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PScyNzAnIHk9JzIwJyB3aWR0aD0nNjAnIGhlaWdodD0nMjIwJyByeD0nMTgnIGZpbGw9JyNmYmJmMjQnIG9wYWNpdHk9JzAuOScvPgogIDwvZz4KICA8dGV4dCB4PSc1MCUnIHk9JzMwMCcgZm9udC1mYW1pbHk9J1NlZ29lIFVJLCBSb2JvdG8sIEFyaWFsJyBmb250LXNpemU9JzQwJyBmaWxsPScjZTVlN2ViJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJz5F4oCRanVpY2UgMTAgbWw8L3RleHQ+Cjwvc3ZnPgo=",
    variants: ["Dinner Lady Banana Ice","IVG Watermelon","Elfliq Blue Razz"]
  },
  acc: {
    title: "TillbehÃ¶r",
    price: null,
    img: "data:image/svg+xml;base64,CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNjQwIDM2MCc+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyB5MT0nMCcgeDI9JzEnIHkyPScxJz4KICAgICAgPHN0b3Agb2Zmc2V0PScwJyBzdG9wLWNvbG9yPScjMTBiOTgxJy8+PHN0b3Agb2Zmc2V0PScxJyBzdG9wLWNvbG9yPScjMzRkMzk5Jy8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyByeD0nMjgnIGZpbGw9JyMwZjE3MmEnLz4KICA8cmVjdCB4PScyNCcgeT0nMjQnIHdpZHRoPSc1OTInIGhlaWdodD0nMzEyJyByeD0nMjInIGZpbGw9J3VybCgjZyknIG9wYWNpdHk9JzAuMjUnLz4KICA8ZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2MCw2MCknPgogICAgPHJlY3QgeD0nMCcgeT0nMTAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMjAnIHJ4PScxOCcgZmlsbD0nIzEwYjk4MScgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PSc5MCcgeT0nMCcgd2lkdGg9JzYwJyBoZWlnaHQ9JzI0MCcgcng9JzE4JyBmaWxsPScjMzRkMzk5JyBvcGFjaXR5PScwLjknLz4KICAgIDxyZWN0IHg9JzE4MCcgeT0nMzAnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMTAnIHJ4PScxOCcgZmlsbD0nIzEwYjk4MScgb3BhY2l0eT0nMC45Jy8+CiAgICA8cmVjdCB4PScyNzAnIHk9JzIwJyB3aWR0aD0nNjAnIGhlaWdodD0nMjIwJyByeD0nMTgnIGZpbGw9JyMzNGQzOTknIG9wYWNpdHk9JzAuOScvPgogIDwvZz4KICA8dGV4dCB4PSc1MCUnIHk9JzMwMCcgZm9udC1mYW1pbHk9J1NlZ29lIFVJLCBSb2JvdG8sIEFyaWFsJyBmb250LXNpemU9JzQwJyBmaWxsPScjZTVlN2ViJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJz5UaWxsYmVow7ZyPC90ZXh0Pgo8L3N2Zz4K",
    variants: ["USBâ€‘C Laddare â€“ 99 kr","Coils (5â€‘pack) â€“ 149 kr","Pod Cartridge (2â€‘pack) â€“ 89 kr"]
  }
};

// ====== Modal logic ======
let currentSeries = null;
function openSeries(key){
  currentSeries = key;
  const s = DATA[key];
  document.getElementById('seriesTitle').textContent = s.title;
  document.getElementById('seriesImg').src = s.img;
  const sel = document.getElementById('variantSel');
  sel.innerHTML = "";
  s.variants.forEach(v=>{
    const opt = document.createElement('option');
    opt.value = v;
    opt.textContent = v;
    sel.appendChild(opt);
  });
  const price = (key==='acc') ? 'Se vald rad' : (s.price + ' kr');
  document.getElementById('seriesPrice').textContent = 'Pris: ' + price;
  document.getElementById('seriesModal').style.display='flex';
}
function closeSeries(){
  document.getElementById('seriesModal').style.display='none';
}
function addSelected(){
  if(!currentSeries) return;
  const s = DATA[currentSeries];
  const v = document.getElementById('variantSel').value;
  let price = s.price;
  if(currentSeries==='acc'){
    const m = v.match(/(\d+)\s*kr/);
    price = m ? parseInt(m[1],10) : 0;
  }
  addToCart(currentSeries + ':' + v, s.title + ' â€“ ' + v, price || 0);
  closeSeries();
  toggleCart();
}

// ====== Cart ======
function getCart(){ try{return JSON.parse(localStorage.getItem('cart')||'[]')}catch(e){return []} }
function saveCart(c){ localStorage.setItem('cart', JSON.stringify(c)); renderCart(); }
function addToCart(id,name,price){ let c=getCart(); let it=c.find(x=>x.id===id); if(it) it.qty++; else c.push({id,name,price,qty:1}); saveCart(c); }
function clearCart(){ saveCart([]); }
function cartTotal(){ return getCart().reduce((s,i)=>s+i.price*i.qty,0); }
function cartCount(){ return getCart().reduce((n,i)=>n+i.qty,0); }
function renderCart(){
  document.getElementById('cartCount').textContent = cartCount();
  const items = getCart();
  const list = document.getElementById('cartItems');
  list.innerHTML = '';
  items.forEach(i=>{
    const row = document.createElement('div');
    row.className = 'cart-item';
    row.innerHTML = `<div>${i.name}<br><small>${i.price} kr</small></div>
                     <div>Ã— ${i.qty}</div>
                     <div>
                       <button onclick="decItem('${i.id}')">âˆ’</button>
                       <button onclick="incItem('${i.id}')">+</button>
                       <button onclick="delItem('${i.id}')">Ã—</button>
                     </div>`;
    list.appendChild(row);
  });
  document.getElementById('cartTotal').textContent = cartTotal() + ' kr';
}
function incItem(id){ let c=getCart(); let it=c.find(i=>i.id===id); if(it){it.qty++;} saveCart(c); }
function decItem(id){ let c=getCart(); let it=c.find(i=>i.id===id); if(it){ it.qty--; if(it.qty<=0) c=c.filter(x=>x.id!==id);} saveCart(c); }
function delItem(id){ let c=getCart().filter(i=>i.id!==id); saveCart(c); }
function toggleCart(){ const p=document.getElementById('cartPanel'); p.style.display = (p.style.display==='block')?'none':'block'; renderCart(); }

// ====== Checkout ======
const SWISH = "0736871677";
const STRIPE = "https://buy.stripe.com/test";
function checkout(){
  const total = cartTotal();
  if(total<=0){ alert('Din kundvagn Ã¤r tom.'); return; }
  alert('Alternativ:\n1) Swish: betala ' + total + ' kr till ' + SWISH + '.\n2) Stripe: Ã¶ppna betalningslÃ¤nken.');
  if(confirm('Ã–ppna Stripeâ€‘lÃ¤nk?')) window.open(STRIPE,'_blank');
}

// ====== Init ======
(function(){
  document.getElementById('year').textContent = new Date().getFullYear();
  renderCart();
})();
</script>
</body>
</html>
